document.addEventListener("DOMContentLoaded",function(){var e=new bootstrap.Modal(document.getElementById("event-modal"),{keyboard:!1}),t=(document.getElementById("event-modal"),document.getElementById("modal-title")),n=document.getElementById("form-event"),a=null,l=null,i=document.getElementsByClassName("needs-validation"),a=null,l=null,s=new Date,d=s.getDate(),r=s.getMonth(),s=s.getFullYear(),d=(new FullCalendar.Draggable(document.getElementById("external-events"),{itemSelector:".external-event",eventData:function(e){return{title:e.innerText,start:new Date,className:e.getAttribute("data-class")}}}),[{title:"All Day Event",start:new Date(s,r,1),className:"bg-primary"},{title:"Long Event",start:new Date(s,r,d-5),end:new Date(s,r,d-2),className:"bg-warning"},{id:999,title:"Repeating Event",start:new Date(s,r,d-3,16,0),allDay:!1,className:"bg-info"},{id:999,title:"Repeating Event",start:new Date(s,r,d+4,16,0),allDay:!1,className:"bg-primary"},{title:"Meeting",start:new Date(s,r,d,10,30),allDay:!1,className:"bg-success"},{title:"Lunch",start:new Date(s,r,d,12,0),end:new Date(s,r,d,14,0),allDay:!1,className:"bg-danger"},{title:"Birthday Party",start:new Date(s,r,d+1,19,0),end:new Date(s,r,d+1,22,30),allDay:!1,className:"bg-success"},{title:"Click for Google",start:new Date(s,r,28),end:new Date(s,r,29),url:"http://google.com/",className:"bg-dark"}]),s=(document.getElementById("external-events"),document.getElementById("calendar"));function o(i){e.show(),n.classList.remove("was-validated"),n.reset(),a=null,t.innerText="Add Event",l=i}function c(){return 768<=window.innerWidth&&window.innerWidth<1200?"timeGridWeek":window.innerWidth<=768?"listMonth":"dayGridMonth"}var m=new FullCalendar.Calendar(s,{timeZone:"local",editable:!0,droppable:!0,selectable:!0,initialView:c(),themeSystem:"bootstrap",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay,listMonth"},windowResize:function(e){var t=c();m.changeView(t)},eventDidMount:function(e){"done"===e.event.extendedProps.status&&(e.el.style.backgroundColor="red",(e=e.el.getElementsByClassName("fc-event-dot")[0])&&(e.style.backgroundColor="white"))},eventClick:function(i){e.show(),n.reset(),document.getElementById("event-title").value[0]="",a=i.event,document.getElementById("event-title").value=a.title,document.getElementById("event-category").value=a.classNames[0],l=null,t.innerText="Edit Event",l=null},dateClick:function(e){o(e)},events:d});m.render(),n.addEventListener("submit",function(t){t.preventDefault();var t=document.getElementById("event-title").value,n=document.getElementById("event-category").value;!1===i[0].checkValidity()?i[0].classList.add("was-validated"):(a?(a.setProp("title",t),a.setProp("classNames",[n])):(t={title:t,start:l.date,allDay:l.allDay,className:n},m.addEvent(t)),e.hide())}),document.getElementById("btn-new-event").addEventListener("click",function(e){o({date:new Date,allDay:!0})})});